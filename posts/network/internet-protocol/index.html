<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>IP(인터넷 프로토콜) | 5hdumat</title>
<meta name=keywords content="Network,IP,http">
<meta name=description content="인터넷상에서 컴퓨터 둘은 어떻게 통신할까? 클라이언트와 서버가 책상에 나란히 놓여있다고 가정해보자.
그리고 클라이언트는 서버에게 Hello, world! 라는 메시지를 보내고자 한다.
물리적으로 가까운 거리의 PC는 서로 연결된 케이블로 간단히 통신이 가능하다. 1
이처럼 비교적 좁은 공간에 있는 기기끼리 연결한 네트워크를 우리는 LAN (Local Area Netwrok) 이라고 한다. 2
하지만 메시지를 보내고자하는 서버가 지구 반대편에 있다면 어떻게 해야 할까?
우리는 여러 개의 LAN이나 WAN을 연결한 전 세계 규모의 네트워크인 인터넷을 이용해야한다.
인터넷망은 단순하지 않다.">
<meta name=author content="서민규">
<link rel=canonical href=https://5hdumat.github.io/posts/network/internet-protocol/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.35cd0f65a15cafa92372b8313deef5960aae04b90ad722f2bbf509eb0468137e.css integrity="sha256-Nc0PZaFcr6kjcrgxPe71lgquBLkK1yLyu/UJ6wRoE34=" rel="preload stylesheet" as=style>
<link rel=preload href=/resources/images/cinemagraphy/giphy.gif as=image>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://5hdumat.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://5hdumat.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://5hdumat.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=https://5hdumat.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://5hdumat.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.86.0">
<meta property="og:title" content="IP(인터넷 프로토콜)">
<meta property="og:description" content="인터넷상에서 컴퓨터 둘은 어떻게 통신할까? 클라이언트와 서버가 책상에 나란히 놓여있다고 가정해보자.
그리고 클라이언트는 서버에게 Hello, world! 라는 메시지를 보내고자 한다.
물리적으로 가까운 거리의 PC는 서로 연결된 케이블로 간단히 통신이 가능하다. 1
이처럼 비교적 좁은 공간에 있는 기기끼리 연결한 네트워크를 우리는 LAN (Local Area Netwrok) 이라고 한다. 2
하지만 메시지를 보내고자하는 서버가 지구 반대편에 있다면 어떻게 해야 할까?
우리는 여러 개의 LAN이나 WAN을 연결한 전 세계 규모의 네트워크인 인터넷을 이용해야한다.
인터넷망은 단순하지 않다.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://5hdumat.github.io/posts/network/internet-protocol/">
<meta property="og:image" content="https://5hdumat.github.io/resources/images/network/http.jpeg"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-07-30T01:33:25+09:00">
<meta property="article:modified_time" content="2021-07-30T01:33:25+09:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://5hdumat.github.io/resources/images/network/http.jpeg">
<meta name=twitter:title content="IP(인터넷 프로토콜)">
<meta name=twitter:description content="인터넷상에서 컴퓨터 둘은 어떻게 통신할까? 클라이언트와 서버가 책상에 나란히 놓여있다고 가정해보자.
그리고 클라이언트는 서버에게 Hello, world! 라는 메시지를 보내고자 한다.
물리적으로 가까운 거리의 PC는 서로 연결된 케이블로 간단히 통신이 가능하다. 1
이처럼 비교적 좁은 공간에 있는 기기끼리 연결한 네트워크를 우리는 LAN (Local Area Netwrok) 이라고 한다. 2
하지만 메시지를 보내고자하는 서버가 지구 반대편에 있다면 어떻게 해야 할까?
우리는 여러 개의 LAN이나 WAN을 연결한 전 세계 규모의 네트워크인 인터넷을 이용해야한다.
인터넷망은 단순하지 않다.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://5hdumat.github.io/posts/"},{"@type":"ListItem","position":3,"name":"IP(인터넷 프로토콜)","item":"https://5hdumat.github.io/posts/network/internet-protocol/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"IP(인터넷 프로토콜)","name":"IP(인터넷 프로토콜)","description":"인터넷상에서 컴퓨터 둘은 어떻게 통신할까? 클라이언트와 서버가 책상에 나란히 놓여있다고 가정해보자.\n그리고 클라이언트는 서버에게 Hello, world! 라는 메시지를 보내고자 한다.\n물리적으로 가까운 거리의 PC는 서로 연결된 케이블로 간단히 통신이 가능하다. 1\n이처럼 비교적 좁은 공간에 있는 기기끼리 연결한 네트워크를 우리는 LAN (Local Area Netwrok) 이라고 한다. 2\n하지만 메시지를 보내고자하는 서버가 지구 반대편에 있다면 어떻게 해야 할까?\n우리는 여러 개의 LAN이나 WAN을 연결한 전 세계 규모의 네트워크인 인터넷을 이용해야한다.\n인터넷망은 단순하지 않다.","keywords":["Network","IP","http"],"articleBody":"인터넷상에서 컴퓨터 둘은 어떻게 통신할까? 클라이언트와 서버가 책상에 나란히 놓여있다고 가정해보자.\n그리고 클라이언트는 서버에게 Hello, world! 라는 메시지를 보내고자 한다.\n물리적으로 가까운 거리의 PC는 서로 연결된 케이블로 간단히 통신이 가능하다. 1\n이처럼 비교적 좁은 공간에 있는 기기끼리 연결한 네트워크를 우리는 LAN (Local Area Netwrok) 이라고 한다. 2\n하지만 메시지를 보내고자하는 서버가 지구 반대편에 있다면 어떻게 해야 할까?\n우리는 여러 개의 LAN이나 WAN을 연결한 전 세계 규모의 네트워크인 인터넷을 이용해야한다.\n인터넷망은 단순하지 않다.\n단적인 예로 해저 광케이블이나 인공위성을 통해 메시지가 오고 갈 수도 있다.\n이처럼 수많은 중간 노드를 거쳐 메시지가 목적지 서버 어떻게 안전하게 도착할 수 있는 걸까?\n우리는 여기서 인터넷 프로토콜이 무엇인지 짚고 넘어가야 한다.\nIP(인터넷 프로토콜) 복잡한 인터넷 망에서 데이터를 통신하기 위한 최소한의 규칙을 IP(인터넷 프로토콜) 이라 한다.\nIP(인터넷 프로토콜)을 이용한 통신 순서 1. 클라이언트와 서버에 IP 주소를 부여한다.\n2. IP 패킷을 만든다.\n출발지와 목적지 IP 정보와 함께 Hello, world! 라는 전송데이터를 감싼다.\n택배에 출발지와 배송지 주소를 적는 것과 같다.\n3. 인터넷망을 통해 IP 패킷을 전송한다.\n인터넷망의 노드(서버)들은 모두 IP 프로토콜을 이해할 수 있도록 일련의 규약을 따르고있다. 중간 노드들은 목적지가 어디있는지 서로 물어가면서 패킷을 전달한다.\n4. 응답을 받은 서버는 동일한 방식으로 클라이언트에게 패킷을 전달한다.\n인터넷망은 굉장히 복잡하기 때문에 요청할때와 응답할때는 서로 다른 노드들로 전달되어 오고 갈 수 있음을 참고한다.\nIP(인터넷 프로토콜)의 한계 단순히 IP 주소를 부여하고 패킷을 전달하는 방식으로는 한계가 있다.\n어떤 한계점이 있을까?\n비연결성 아직까지 우리는 200.200.200.2 라는 서버가 켜져있는지 꺼져있는지 알 수 없다.\n패킷을 받을 대상이 없거나 서비스 불능 상태여도 IP 프로토콜은 패킷을 전송한다는 것은 낭비이다.\n비신뢰성 인터넷이라는건 소위 용빼는 재주가 있는게 아니다.\n결국 패킷은 여러 서버를 거쳐서 목적지로 전달된다.\n즉, 특정 노드(서버)에 문제가 생길 수 있다는 것이고, 패킷이 유실될 수 있다는 의미이다.\n패킷 전달 순서 문제 한번에 전송할 수 있는 메시지의 MTU(최대 전송 단위)는 1500 Byte 이다.\n메시지 패킷의 용량이 크다고 가정한다면 1500 Byte 단위로 패킷이 나누어진다.\n클라이언트는 나누어진 패킷을 Hello, World! 순으로 전달한다.\n문제는 여기서 발생한다.\n노드(서버)의 최적화 정도에 따라 노드들끼리 패킷을 달리 전달한다. 이는 곧 클라이언트의 의도와 다른 순서로 서버에 패킷이 전달될 수 있다는 의미이다.\n마무리 위에 열거한 문제점들인 비연결성, 비신뢰성, 패킷 전달 순서 문제는 IP 프로토콜만으론 해결할 수 없다.\n이를 해결하고자 나온 프로토콜이 TCP, UDP이다.\n이 주제는 다음 포스트에서 다루도록 한다.\n  접속에는 주로 가는 구리선을 짜넣은 LAN 케이블을 사용한다. 케이블을 사용하지 않고 전파나 적외선 등을 사용하여 연결한 것을 ‘무선 LAN’ 이라고 한다. ↩︎\n 반대로 지리적으로 멀리 떨어진 장소에 있는 기기를 광섬유 케이블이나 공중망(전화 회선) 등을 사용하여 연결한 것을 WAN(Wide Area Network) 이라고 한다. ↩︎\n   ","wordCount":"389","inLanguage":"en","image":"https://5hdumat.github.io/resources/images/network/http.jpeg","datePublished":"2021-07-30T01:33:25+09:00","dateModified":"2021-07-30T01:33:25+09:00","author":{"@type":"Person","name":"서민규"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://5hdumat.github.io/posts/network/internet-protocol/"},"publisher":{"@type":"Organization","name":"5hdumat","logo":{"@type":"ImageObject","url":"https://5hdumat.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<noscript>
<style type=text/css>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://5hdumat.github.io accesskey=h title="5hdumat (Alt + H)">5hdumat</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://5hdumat.github.io/archives/ title=Archives>
<span>Archives</span>
</a>
</li>
<li>
<a href=https://5hdumat.github.io/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://5hdumat.github.io/categories/ title=Categories>
<span>Categories</span>
</a>
</li>
<li>
<a href=https://5hdumat.github.io/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://5hdumat.github.io>Home</a>&nbsp;»&nbsp;<a href=https://5hdumat.github.io/posts/>Posts</a></div>
<h1 class=post-title>
IP(인터넷 프로토콜)
</h1>
<div class=post-meta>July 30, 2021&nbsp;·&nbsp;서민규
</div>
</header>
<figure class=entry-cover><img loading=lazy src=https://5hdumat.github.io/resources/images/network/http.jpeg alt>
</figure>
<div class=post-content><h2 id=인터넷상에서-컴퓨터-둘은-어떻게-통신할까>인터넷상에서 컴퓨터 둘은 어떻게 통신할까?<a hidden class=anchor aria-hidden=true href=#인터넷상에서-컴퓨터-둘은-어떻게-통신할까>#</a></h2>
<p>클라이언트와 서버가 책상에 나란히 놓여있다고 가정해보자.<br>
그리고 클라이언트는 서버에게 <strong>Hello, world!</strong> 라는 메시지를 보내고자 한다.</p>
<p>물리적으로 가까운 거리의 PC는 서로 연결된 케이블로 간단히 통신이 가능하다. <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p>
<p><img loading=lazy src=/resources/images/network/internet-network-1.png alt=internet-network-1>
<br>
<img loading=lazy src=/resources/images/network/internet-network-2.png alt=internet-network-2>
</p>
<p>이처럼 비교적 좁은 공간에 있는 기기끼리 연결한 네트워크를 우리는 <strong>LAN (Local Area Netwrok)</strong> 이라고 한다. <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p>
<p><strong>하지만 메시지를 보내고자하는 서버가 지구 반대편에 있다면 어떻게 해야 할까?</strong></p>
<p>우리는 <strong>여러 개의 LAN이나 WAN을 연결한 전 세계 규모의 네트워크인 인터넷</strong>을 이용해야한다.</p>
<p><img loading=lazy src=/resources/images/network/internet-network-4.png alt=internet-network-4>
</p>
<p><strong>인터넷망은 단순하지 않다.</strong></p>
<p>단적인 예로 해저 광케이블이나 인공위성을 통해 메시지가 오고 갈 수도 있다.<br>
이처럼 수많은 중간 노드를 거쳐 메시지가 목적지 서버 어떻게 안전하게 도착할 수 있는 걸까?</p>
<p>우리는 여기서 <strong>인터넷 프로토콜</strong>이 무엇인지 짚고 넘어가야 한다.</p>
<h2 id=ip인터넷-프로토콜>IP(인터넷 프로토콜)<a hidden class=anchor aria-hidden=true href=#ip인터넷-프로토콜>#</a></h2>
<p>복잡한 인터넷 망에서 데이터를 통신하기 위한 최소한의 규칙을 <strong>IP(인터넷 프로토콜)</strong> 이라 한다.</p>
<h3 id=ip인터넷-프로토콜을-이용한-통신-순서>IP(인터넷 프로토콜)을 이용한 통신 순서<a hidden class=anchor aria-hidden=true href=#ip인터넷-프로토콜을-이용한-통신-순서>#</a></h3>
<p><strong>1. 클라이언트와 서버에 IP 주소를 부여한다.</strong></p>
<p><img loading=lazy src=/resources/images/network/internet-network-5.png alt=internet-network-5>
</p>
<p><strong>2. IP 패킷을 만든다.</strong></p>
<p><img loading=lazy src=/resources/images/network/internet-network-6.png alt=internet-network-6>
</p>
<p>출발지와 목적지 IP 정보와 함께 <strong>Hello, world!</strong> 라는 전송데이터를 감싼다.<br>
택배에 출발지와 배송지 주소를 적는 것과 같다.</p>
<p><strong>3. 인터넷망을 통해 IP 패킷을 전송한다.</strong></p>
<p><img loading=lazy src=/resources/images/network/internet-network-7.png alt=internet-network-7>
</p>
<p>인터넷망의 노드(서버)들은 모두 IP 프로토콜을 이해할 수 있도록 일련의 규약을 따르고있다. 중간 노드들은 목적지가 어디있는지 서로 물어가면서 패킷을 전달한다.</p>
<p><strong>4. 응답을 받은 서버는 동일한 방식으로 클라이언트에게 패킷을 전달한다.</strong></p>
<p><img loading=lazy src=/resources/images/network/internet-network-8.png alt=internet-network-8>
</p>
<p>인터넷망은 굉장히 복잡하기 때문에 요청할때와 응답할때는 서로 다른 노드들로 전달되어 오고 갈 수 있음을 참고한다.</p>
<h2 id=ip인터넷-프로토콜의-한계>IP(인터넷 프로토콜)의 한계<a hidden class=anchor aria-hidden=true href=#ip인터넷-프로토콜의-한계>#</a></h2>
<p>단순히 IP 주소를 부여하고 패킷을 전달하는 방식으로는 한계가 있다.</p>
<p>어떤 한계점이 있을까?</p>
<h3 id=비연결성>비연결성<a hidden class=anchor aria-hidden=true href=#비연결성>#</a></h3>
<p><img loading=lazy src=/resources/images/network/internet-network-9.png alt=internet-network-9>
</p>
<p>아직까지 우리는 <code>200.200.200.2</code> 라는 서버가 켜져있는지 꺼져있는지 알 수 없다.<br>
패킷을 받을 대상이 없거나 서비스 불능 상태여도 IP 프로토콜은 패킷을 전송한다는 것은 낭비이다.</p>
<h3 id=비신뢰성>비신뢰성<a hidden class=anchor aria-hidden=true href=#비신뢰성>#</a></h3>
<p><strong>인터넷이라는건 소위 용빼는 재주가 있는게 아니다.</strong></p>
<p>결국 패킷은 여러 서버를 거쳐서 목적지로 전달된다.<br>
즉, 특정 노드(서버)에 문제가 생길 수 있다는 것이고, 패킷이 유실될 수 있다는 의미이다.</p>
<h3 id=패킷-전달-순서-문제>패킷 전달 순서 문제<a hidden class=anchor aria-hidden=true href=#패킷-전달-순서-문제>#</a></h3>
<p>한번에 전송할 수 있는 메시지의 MTU(최대 전송 단위)는 <strong>1500 Byte</strong> 이다.</p>
<p><img loading=lazy src=/resources/images/network/internet-network-11.png alt=internet-network-11>
</p>
<p>메시지 패킷의 용량이 크다고 가정한다면 1500 Byte 단위로 패킷이 나누어진다.<br>
클라이언트는 나누어진 패킷을 <strong>Hello,</strong> <strong>World!</strong> 순으로 전달한다.</p>
<p>문제는 여기서 발생한다.</p>
<p>노드(서버)의 최적화 정도에 따라 노드들끼리 패킷을 달리 전달한다. 이는 곧 클라이언트의 의도와 다른 순서로 서버에 패킷이 전달될 수 있다는 의미이다.</p>
<h2 id=마무리>마무리<a hidden class=anchor aria-hidden=true href=#마무리>#</a></h2>
<p>위에 열거한 문제점들인 <strong>비연결성, 비신뢰성, 패킷 전달 순서 문제</strong>는 IP 프로토콜만으론 해결할 수 없다.<br>
이를 해결하고자 나온 프로토콜이 <strong>TCP, UDP</strong>이다.</p>
<p>이 주제는 다음 포스트에서 다루도록 한다.</p>
<section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p>접속에는 주로 가는 구리선을 짜넣은 LAN 케이블을 사용한다. 케이블을 사용하지 않고 전파나 적외선 등을 사용하여 연결한 것을 &lsquo;무선 LAN&rsquo; 이라고 한다.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:2 role=doc-endnote>
<p>반대로 지리적으로 멀리 떨어진 장소에 있는 기기를 광섬유 케이블이나 공중망(전화 회선) 등을 사용하여 연결한 것을 WAN(Wide Area Network) 이라고 한다.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
</ol>
</section>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://5hdumat.github.io/tags/network/>Network</a></li>
<li><a href=https://5hdumat.github.io/tags/ip/>IP</a></li>
<li><a href=https://5hdumat.github.io/tags/http/>http</a></li>
</ul>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://5hdumat.github.io>5hdumat</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)">
<button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</button>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>